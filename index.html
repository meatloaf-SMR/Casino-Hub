<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Casino Game Hub</title>

<style>
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: system-ui, sans-serif;
  }

  body {
    background: radial-gradient(circle at top, #0b1924, #02070b 70%);
    color: #f4f4f4;
    padding: 30px;
    min-height: 100vh;
  }

  /* ✅ Password Gate (Option A – white minimal box) */
  #passwordOverlay {
    position: fixed;
    inset: 0;
    background: #ffffff;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    color: #111;
    text-align: center;
  }

  #passwordBox {
    background: #f5f5f5;
    padding: 20px 26px;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    width: 260px;
  }

  #passwordBox h2 {
    font-size: 22px;
    margin-bottom: 10px;
    font-weight: 600;
  }

  #passwordInput {
    width: 100%;
    padding: 8px;
    margin-top: 8px;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 16px;
  }

  #passwordBtn {
    width: 100%;
    margin-top: 12px;
    padding: 10px;
    background: #111;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 16px;
  }

  #passwordError {
    margin-top: 8px;
    color: #b00020;
    font-size: 14px;
    min-height: 18px;
  }

  /* ✅ Slide‑In Update Bar */
  #updateBar {
    width: 100%;
    background: #ffffff;
    color: #222;
    padding: 12px 20px;
    font-size: 18px;
    border-bottom: 1px solid #ccc;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    position: sticky;
    top: 0;
    z-index: 9998;
    display: none;
    align-items: center;
    gap: 15px;

    transform: translateY(-100%);
    opacity: 0;
    animation: slideDown 0.5s ease forwards;
  }

  @keyframes slideDown {
    from { transform: translateY(-100%); opacity: 0; }
    to   { transform: translateY(0); opacity: 1; }
  }

  #updateText {
    flex-grow: 1;
    text-align: center;
  }

  #closeUpdate {
    background: transparent;
    border: none;
    font-size: 20px;
    cursor: pointer;
    color: #444;
    padding: 0 5px;
  }

  #closeUpdate:hover {
    color: #000;
  }

  h1 {
    text-align: center;
    font-size: 48px;
    letter-spacing: 4px;
    margin-bottom: 30px;
  }

  .games {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 25px;
    padding: 10px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .card {
    background: #0f2a38;
    border: 3px solid rgba(255,255,255,0.1);
    border-radius: 14px;
    padding: 20px;
    text-align: center;
    box-shadow: 0 6px 15px rgba(0,0,0,0.4);

    /* ✅ Added hover animation */
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }

  .card:hover {
    transform: translateY(-6px);
    box-shadow: 0 12px 24px rgba(0,0,0,0.35);
    cursor: pointer;
  }

  .card h2 {
    margin-bottom: 10px;
    font-size: 26px;
  }

  .card p {
    margin-bottom: 15px;
    opacity: 0.85;
  }

  .btn {
    padding: 10px 20px;
    border-radius: 999px;
    border: none;
    cursor: pointer;
    font-weight: 600;
    margin: 5px 0;
    width: 100%;
    background: radial-gradient(circle at top, #f9d675, #d8a73e);
    color: #111;
    box-shadow: 0 4px 0 #8a6220;
    transition: 0.1s;
  }

  .btn:hover {
    filter: brightness(1.05);
  }

  .btn:active {
    transform: translateY(2px);
    box-shadow: 0 2px 0 #8a6220;
  }

  #gameFrame {
    width: 100%;
    height: 700px;
    border: none;
    margin-top: 40px;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    display: block;
  }

  /* ✅ Startup Gate */
  #startupOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.92);
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    color: white;
    text-align: center;
  }

  #startupOverlay h2 {
    font-size: 36px;
    margin-bottom: 20px;
  }

  #startupOverlay button {
    padding: 15px 40px;
    font-size: 22px;
    margin: 10px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
  }

  #studentBtn {
    background: #f9d675;
    color: #111;
  }

  #teacherBtn {
    background: #f66;
    color: #111;
  }

  /* ✅ Calculator Screen */
  #calculatorScreen {
    display: none;
    background: #f4f4f4;
    color: #111;
    position: fixed;
    inset: 0;
    padding: 40px;
    z-index: 99999;
    overflow: auto;
  }

  #calcBox {
    max-width: 320px;
    margin: 60px auto;
    background: white;
    padding: 25px;
    border-radius: 14px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.3);
  }

  #calcDisplay {
    width: 100%;
    height: 60px;
    font-size: 28px;
    margin-bottom: 20px;
    text-align: right;
    padding: 10px 14px;
    border: 2px solid #ccc;
    border-radius: 8px;
    background: #fefefe;
  }

  .calcGrid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
  }

  .calcBtn {
    width: 100%;
    padding: 14px 0;
    font-size: 20px;
    border: none;
    background: #e0e0e0;
    border-radius: 0;
    cursor: pointer;
    transition: background 0.2s;
  }

  .calcBtn:hover {
    background: #d0d0d0;
  }

  .calcBtn:active {
    background: #bbb;
  }

  .calcBtn.wide {
    grid-column: span 4;
  }
</style>

</head>
<body>

<!-- ✅ PASSWORD GATE -->
<div id="passwordOverlay">
  <div id="passwordBox">
    <h2>Enter Access Code</h2>
    <input id="passwordInput" type="password" placeholder="Code">
    <button id="passwordBtn">Unlock</button>
    <div id="passwordError"></div>
  </div>
</div>

<!-- ✅ Update Bar -->
<div id="updateBar">
  <span id="updateText">Loading latest update…</span>
  <button id="closeUpdate">✕</button>
</div>

<!-- ✅ Calculator Panic Screen -->
<div id="calculatorScreen">
  <div id="calcBox">
    <input id="calcDisplay" disabled>

    <div class="calcGrid">
      <button class="calcBtn" onclick="pressCalc('7')">7</button>
      <button class="calcBtn" onclick="pressCalc('8')">8</button>
      <button class="calcBtn" onclick="pressCalc('9')">9</button>
      <button class="calcBtn" onclick="pressCalc('/')">÷</button>

      <button class="calcBtn" onclick="pressCalc('4')">4</button>
      <button class="calcBtn" onclick="pressCalc('5')">5</button>
      <button class="calcBtn" onclick="pressCalc('6')">6</button>
      <button class="calcBtn" onclick="pressCalc('*')">×</button>

      <button class="calcBtn" onclick="pressCalc('1')">1</button>
      <button class="calcBtn" onclick="pressCalc('2')">2</button>
      <button class="calcBtn" onclick="pressCalc('3')">3</button>
      <button class="calcBtn" onclick="pressCalc('-')">−</button>

      <button class="calcBtn" onclick="pressCalc('0')">0</button>
      <button class="calcBtn" onclick="pressCalc('.')">.</button>
      <button class="calcBtn" onclick="calculate()">=</button>
      <button class="calcBtn" onclick="pressCalc('+')">+</button>

      <button class="calcBtn wide" onclick="clearCalc()">Clear</button>
    </div>
  </div>
</div>

<!-- ✅ Casino Content -->
<div id="casinoContent" style="display:none;">

  <!-- ✅ Startup Gate -->
  <div id="startupOverlay">
    <h2>Are you a student or a teacher?</h2>
    <button id="studentBtn" onclick="startSite()">Student</button>
    <button id="teacherBtn" onclick="closeSite()">Teacher</button>
  </div>

  <h1>Casino Game Hub</h1>

  <div class="games">

    <div class="card">
      <h2>Blackjack</h2>
      <p>Beat the dealer to 21.</p>
      <button class="btn" onclick="openGame('blackjack.html')">Play</button>
    </div>

    <div class="card">
      <h2>Roulette</h2>
      <p>Bet on red, black, or numbers.</p>
      <button class="btn" onclick="openGame('roulette.html')">Play</button>
    </div>

    <div class="card">
      <h2>Poker</h2>
      <p>Classic Texas Hold'em.</p>
      <button class="btn" onclick="openGame('poker.html')">Play</button>
    </div>

    <div class="card">
      <h2>Pool</h2>
      <p>8‑ball billiards physics.</p>
      <button class="btn" onclick="openGame('pool.html')">Play</button>
    </div>

    <div class="card">
      <h2>Air Hockey</h2>
      <p>1P/2P fast arcade action.</p>
      <button class="btn" onclick="openGame('air_hockey.html')">Play</button>
    </div>

    <div class="card">
      <h2>Slot Machine</h2>
      <p>Classic 3‑reel fruit machine.</p>
      <button class="btn" onclick="openGame('slot_machine.html')">Play</button>
    </div>

    <div class="card">
      <h2>Craps</h2>
      <p>Classic dice table.</p>
      <button class="btn" onclick="openGame('craps.html')">Play</button>
    </div>

    <div class="card">
      <h2>Higher or Lower</h2>
      <p>Guess the next roll.</p>
      <button class="btn" onclick="openGame('higher_lower.html')">Play</button>
    </div>

    <div class="card">
      <h2>Mini Golf</h2>
      <p>Endless procedural golf.</p>
      <button class="btn" onclick="openGame('mini_golf.html')">Play</button>
    </div>

    <div class="card">
      <h2>Darts</h2>
      <p>Throw for points.</p>
      <button class="btn" onclick="openGame('darts.html')">Play</button>
    </div>

    <div class="card">
      <h2>Info</h2>
      <p>Your local stats.</p>
      <button class="btn" onclick="openGame('info.html')">Open</button>
    </div>

  </div>

  <iframe id="gameFrame"></iframe>

</div>

<script>
/* ✅ Password Logic */
const PASSWORD = "smr";

document.getElementById("passwordBtn").addEventListener("click", checkPassword);
document.getElementById("passwordInput").addEventListener("keydown", e => {
  if (e.key === "Enter") checkPassword();
});

function checkPassword() {
  const input = document.getElementById("passwordInput").value.trim().toLowerCase();
  const error = document.getElementById("passwordError");

  if (input === PASSWORD) {
    document.getElementById("passwordOverlay").style.display = "none";
    document.getElementById("startupOverlay").style.display = "flex";
    document.getElementById("casinoContent").style.display = "block";
  } else {
    error.textContent = "Incorrect code.";
  }
}

/* ✅ Load update text */
fetch("./updates.txt")
  .then(r => r.text())
  .then(t => document.getElementById("updateText").textContent = t.trim())
  .catch(() => document.getElementById("updateText").textContent = "No updates available.");

/* ✅ Close update bar */
document.getElementById("closeUpdate").addEventListener("click", () => {
  document.getElementById("updateBar").style.display = "none";
});

/* ✅ Game loader */
function openGame(file) {
  const frame = document.getElementById("gameFrame");
  frame.src = file;
  setTimeout(() => frame.scrollIntoView({ behavior: "smooth" }), 150);
}

/* ✅ Startup Gate */
function closeSite() {
  window.location.href = "about:blank";
}

function startSite() {
  document.getElementById("startupOverlay").style.display = "none";

  /* ✅ Show update bar after 300ms */
  setTimeout(() => {
    const bar = document.getElementById("updateBar");
    bar.style.display = "flex";
  }, 300);
}

/* ✅ Panic Key */
document.addEventListener("keydown", e => {
  if (e.key === "Escape") {
    document.getElementById("casinoContent").style.display = "none";
    document.getElementById("calculatorScreen").style.display = "block";
    history.pushState({}, "", "/calculator");
  }
});

/* ✅ Calculator Logic */
function pressCalc(v) {
  document.getElementById("calcDisplay").value += v;
}

function clearCalc() {
  document.getElementById("calcDisplay").value = "";
}

function calculate() {
  try {
    document.getElementById("calcDisplay").value =
      eval(document.getElementById("calcDisplay").value);
  } catch {
    document.getElementById("calcDisplay").value = "Error";
  }
}
</script>

</body>
</html>
